<div class="box d-grid align-content-center">
  <div class="container">
    <div class="row">

      <div class="col-4 d-flex align-items-center justify-content-center">
        <div class="formulario">
          <!--Inicio formulario -->
          <div>
            <img id="title" src="../../../assets/comentarios/anadir_comentario.png">
          </div>
          <div>
            <form [formGroup]="formComentarios" (submit)="subirDatos()">
              <!-- Text input -->
              <div class="row mb-3">
                <div class="col-12 d-flex align-content-end">
                  <label for="textArea">Comentario:</label>
                </div>
                <div class="col-12 d-flex align-content-end">
                  <textarea class="w-100 h-100 textareaBox" name="textArea" id="textArea"
                            formControlName="texto"></textarea>
                </div>
              </div>
              <div class="row mb-3 d-none">
                <div class="col d-flex justify-content-start">
                  <label for="textArea">Puntuacion:</label>
                  <input type="number" name="puntuacion" id="puntuacion" class="w-25">
                </div>
              </div>

              <hr class="mb-3 text-white">

              <p *ngIf="comprobarLocal()" class="btn btn-danger textoDanger">Debes estar registrado para poner un
                comentario</p>
              <p *ngIf="comprobarVacio() && !comprobarLocal()"  class="btn btn-danger textoDanger" >El comentario no puede estar vacio</p>
              <div *ngIf="aplicado" class="text-white validacion btn btn-success">
                <p>¡Comentario añadido!</p>
              </div>
              <button class="btn btn-primary btn-lg btn-block" type="submit" [disabled]="comprobarLocal() || comprobarVacio()">
                Aceptar
              </button>
            </form>
          </div>
          <!--Fin formulario -->
        </div>
      </div>

      <div class="col-3 d-flex align-items-center justify-content-center">
        <img class="w-50" src="{{this.rutaImgAleatoria}}">
      </div>

      <div class="col-5 contenedor-comentarios">

        <div class="card mb-2 comentaryBox" *ngFor="let comentario of comentarios">
          <div class="card-header d-flex justify-content-start text-lowercase text-info">
            <p class="m-0">{{comentario.usuario}}</p>
          </div>
          <div class="card-body d-flex justify-content-start">
            <p class="m-0">{{comentario.texto}}</p>
          </div>
          <div class="card-footer w-100 d-flex align-items-center justify-content-center">
            <p class="m-0 d-flex opacity-50 justify-content-end">{{comentario.fecha}}</p>
          </div>
          <button class="btn text-white ml-2 trashButton" (click)="borrarComentario(this.comentario.id)">
            <i class="fa-solid fa-trash"></i>
          </button>
        </div>

      </div>
    </div>
  </div>
</div>
